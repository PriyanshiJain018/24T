<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ - Spiritual Journey Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1f2937;
        }
        
        .game-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .game-header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .game-title {
            font-size: 28px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .game-subtitle {
            color: #6b7280;
            font-size: 16px;
        }
        
        .game-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6b7280;
            font-size: 14px;
        }
        
        .game-stage {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .gunasthan-display {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }
        
        .gunasthan-number {
            font-size: 48px;
            font-weight: bold;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .gunasthan-name {
            font-size: 24px;
            font-weight: 600;
            color: white;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .gunasthan-english {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 15px;
        }
        
        .gunasthan-description {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .game-content {
            line-height: 1.8;
            font-size: 16px;
            margin-bottom: 30px;
            color: #374151;
        }
        
        .choices-container {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .choice-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        
        .choice-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .choice-button.disabled {
            background: #9ca3af;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .choice-button.disabled:hover {
            transform: none;
        }
        
        .choice-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .choice-description {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .message {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-weight: 500;
        }
        
        .message.success {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border: 1px solid #86efac;
            color: #16a34a;
        }
        
        .message.error {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 1px solid #f87171;
            color: #dc2626;
        }
        
        .message.warning {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1px solid #fbbf24;
            color: #d97706;
        }
        
        .message.info {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 1px solid #60a5fa;
            color: #2563eb;
        }
        
        .progress-path {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .path-stage {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }
        
        .path-stage.completed {
            background: #10b981;
        }
        
        .path-stage.current {
            background: #3b82f6;
            animation: pulse 2s infinite;
        }
        
        .path-stage.locked {
            background: #9ca3af;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .path-arrow {
            color: #6b7280;
            font-size: 18px;
        }
        
        .quiz-container {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .quiz-question {
            font-weight: 600;
            margin-bottom: 15px;
            color: #1f2937;
        }
        
        .quiz-options {
            display: grid;
            gap: 10px;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quiz-option:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }
        
        .quiz-option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .action-button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .action-button.primary {
            background: #3b82f6;
            color: white;
        }
        
        .action-button.secondary {
            background: #e5e7eb;
            color: #374151;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
        }
        
        .karma-display {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1px solid #fbbf24;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .karma-title {
            font-weight: 600;
            color: #92400e;
            margin-bottom: 10px;
        }
        
        .karma-bars {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .karma-bar {
            background: white;
            border-radius: 8px;
            padding: 12px;
        }
        
        .karma-name {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 5px;
        }
        
        .karma-progress {
            width: 100%;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .karma-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 640px) {
            .game-container {
                padding: 15px;
            }
            
            .game-header {
                padding: 20px;
            }
            
            .game-title {
                font-size: 24px;
            }
            
            .gunasthan-number {
                font-size: 36px;
            }
            
            .gunasthan-name {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <div class="game-title">üßò ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ</div>
            <div class="game-subtitle">Spiritual Journey Through 14 Stages of Soul Development</div>
        </div>
        
        <div class="game-stats">
            <div class="stat-card">
                <div class="stat-value" id="current-stage">1</div>
                <div class="stat-label">Current Gunasthan</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="total-moves">0</div>
                <div class="stat-label">Total Transitions</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="highest-reached">1</div>
                <div class="stat-label">Highest Stage Reached</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="game-time">0:00</div>
                <div class="stat-label">Journey Time</div>
            </div>
        </div>
        
        <div class="progress-path" id="progress-path"></div>
        
        <div class="game-stage" id="game-stage">
            <div class="gunasthan-display" id="gunasthan-display"></div>
            <div class="game-content" id="game-content"></div>
            <div class="choices-container" id="choices-container"></div>
            <div id="message-container"></div>
            <div id="quiz-container" class="hidden"></div>
            <div class="karma-display" id="karma-display"></div>
        </div>
        
        <div class="action-buttons">
            <button class="action-button secondary" onclick="resetGame()">üîÑ Restart Journey</button>
            <button class="action-button secondary" onclick="showHelp()">‚ùì Help</button>
            <button class="action-button primary" onclick="showProgress()">üìä Progress</button>
        </div>
    </div>

    <script>
        // Game data from the main app
        const gunasthansData = {
            1: { nameHi: "‡§Æ‡§ø‡§•‡•ç‡§Ø‡§æ‡§§‡•ç‡§µ", nameEn: "Mithyatva", english: "False Belief", description: "The soul possesses wrong belief and is bound by all karmas.", color: "#EF4444" },
            2: { nameHi: "‡§∏‡§æ‡§∏‡§æ‡§¶‡§®", nameEn: "Sasadan", english: "Downfall", description: "Temporary stage when a soul falls from right belief back to wrong belief.", color: "#F87171" },
            3: { nameHi: "‡§Æ‡§ø‡§∂‡•ç‡§∞", nameEn: "Mishra", english: "Mixed Belief", description: "The soul has mixed right and wrong beliefs simultaneously.", color: "#FB923C" },
            4: { nameHi: "‡§Ö‡§µ‡§ø‡§∞‡§§ ‡§∏‡§Æ‡•ç‡§Ø‡§ó‡•ç‡§¶‡•É‡§∑‡•ç‡§ü‡§ø", nameEn: "Avirat Samyagdrishti", english: "Right Belief without Conduct", description: "Soul has right belief but has not yet adopted right conduct.", color: "#FBBF24" },
            5: { nameHi: "‡§¶‡•á‡§∂‡§µ‡§ø‡§∞‡§§", nameEn: "Deshvirat", english: "Partial Vows", description: "Soul adopts partial vows and begins practicing limited self-restraint.", color: "#A3E635" },
            6: { nameHi: "‡§™‡•ç‡§∞‡§Æ‡§§‡•ç‡§§‡§µ‡§ø‡§∞‡§§", nameEn: "Pramattavirat", english: "Careless Conduct", description: "Soul has taken complete vows but is still careless in observance.", color: "#4ADE80" },
            7: { nameHi: "‡§Ö‡§™‡•ç‡§∞‡§Æ‡§§‡•ç‡§§‡§µ‡§ø‡§∞‡§§", nameEn: "Apramattavirat", english: "Careful Conduct", description: "Soul observes vows with complete care and attention.", color: "#10B981" },
            8: { nameHi: "‡§Ö‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï‡§∞‡§£", nameEn: "Apurvakarana", english: "Unprecedented Thought-activity", description: "Soul experiences unprecedented spiritual transformation.", color: "#14B8A6" },
            9: { nameHi: "‡§Ö‡§®‡§ø‡§µ‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§∞‡§£", nameEn: "Anivrittikarana", english: "Subtle Passion", description: "Only subtle forms of passion remain; gross passions eliminated.", color: "#06B6D4" },
            10: { nameHi: "‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ‡§∏‡§æ‡§Ç‡§™‡§∞‡§æ‡§Ø", nameEn: "Sukshmasamparaya", english: "Subtle Greed", description: "Only the most subtle form of greed (lobha) remains.", color: "#3B82F6" },
            11: { nameHi: "‡§â‡§™‡§∂‡§æ‡§Ç‡§§ ‡§Æ‡•ã‡§π", nameEn: "Upashanta Moha", english: "Subsided Delusion", description: "All deluding karmas are temporarily subsided but not destroyed.", color: "#6366F1" },
            12: { nameHi: "‡§ï‡•ç‡§∑‡•Ä‡§£‡§Æ‡•ã‡§π", nameEn: "Kshina Moha", english: "Destroyed Delusion", description: "All deluding karmas are permanently destroyed. No return to lower stages.", color: "#8B5CF6" },
            13: { nameHi: "‡§∏‡§Ø‡•ã‡§ó‡§ï‡•á‡§µ‡§≤‡•Ä", nameEn: "Sayogakevali", english: "Omniscient with Activity", description: "Soul achieves omniscience but still has bodily activities.", color: "#EC4899" },
            14: { nameHi: "‡§Ö‡§Ø‡•ã‡§ó‡§ï‡•á‡§µ‡§≤‡•Ä", nameEn: "Ayogakevali", english: "Omniscient without Activity", description: "Final stage before liberation. No mental, verbal, or physical activities.", color: "#F59E0B" }
        };

        const transitionRules = {
            1: { canGoTo: [3, 4, 5], description: "Can progress to mixed belief, right belief, or partial vows" },
            2: { canGoTo: [1], description: "Falls back to false belief" },
            3: { canGoTo: [1, 4], description: "Can fall to false belief or progress to right belief" },
            4: { canGoTo: [1, 2, 3, 5, 7], description: "Multiple paths including direct jump to complete vows" },
            5: { canGoTo: [1, 4, 6], description: "Can fall back or progress to monastic life" },
            6: { canGoTo: [5, 7, 8], description: "Can progress to careful conduct or spiritual ladder" },
            7: { canGoTo: [6, 8], description: "Can become careless or continue ascending" },
            8: { canGoTo: [7, 9], description: "Can fall back or continue ascending" },
            9: { canGoTo: [7, 10], description: "Can fall back or reach subtle greed stage" },
            10: { canGoTo: [7, 11, 12], description: "Can fall, subside, or destroy delusion" },
            11: { canGoTo: [1, 12, 13], description: "Can fall completely, switch paths, or achieve omniscience" },
            12: { canGoTo: [13], description: "Progresses to omniscience" },
            13: { canGoTo: [14], description: "Final transition to liberation" },
            14: { canGoTo: [], description: "Liberation (Moksha) - No further transitions" }
        };

        // Game state
        let currentGunasthan = 1;
        let totalMoves = 0;
        let highestReached = 1;
        let gameStartTime = Date.now();
        let gameHistory = [];
        let karmaLevels = {
            '‡§Æ‡•ã‡§π‡§®‡•Ä‡§Ø': 100,
            '‡§ú‡•ç‡§û‡§æ‡§®‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø': 80,
            '‡§¶‡§∞‡•ç‡§∂‡§®‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø': 80,
            '‡§Ö‡§®‡•ç‡§§‡§∞‡§æ‡§Ø': 70
        };

        // Game scenarios and content
        const gameScenarios = {
            1: {
                content: "‡§Ü‡§™ ‡§∏‡§Ç‡§∏‡§æ‡§∞ ‡§ï‡•á ‡§≠‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§∏‡•á ‡§π‡•Å‡§è ‡§è‡§ï ‡§ú‡•Ä‡§µ ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§§‡•ç‡§Ø ‡§î‡§∞ ‡§Ö‡§∏‡§§‡•ç‡§Ø ‡§ï‡§æ ‡§≠‡•á‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§™‡§§‡§æ ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§ï‡§∞‡•ç‡§Æ‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§Ç‡§ß‡•á ‡§π‡•Å‡§è ‡§π‡•à‡§Ç‡•§",
                scenario: "‡§Ü‡§™ ‡§è‡§ï ‡§Æ‡§Ç‡§¶‡§ø‡§∞ ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§µ‡§π‡§æ‡§Ç ‡§ú‡•à‡§® ‡§Ü‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§™‡•ç‡§∞‡§µ‡§ö‡§® ‡§∏‡•Å‡§®‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á?",
                choices: [
                    { target: 3, title: "‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§ ‡§µ‡§ø‡§ö‡§æ‡§∞", description: "‡§Ü‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§ï‡•Ä ‡§ï‡•Å‡§õ ‡§¨‡§æ‡§§‡•á‡§Ç ‡§∏‡§π‡•Ä ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§ï‡•Å‡§õ ‡§ó‡§≤‡§§", difficulty: "medium", karma: -5 },
                    { target: 4, title: "‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø", description: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∂‡•ç‡§∞‡§¶‡•ç‡§ß‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§§‡•ç‡§Ø ‡§ï‡•ã ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡§®‡§æ", difficulty: "hard", karma: -20 },
                    { target: 5, title: "‡§µ‡•ç‡§∞‡§§ ‡§ß‡§æ‡§∞‡§£", description: "‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§µ‡•ç‡§∞‡§§ ‡§≤‡•á‡§®‡§æ (‡§ï‡§†‡§ø‡§® ‡§Æ‡§æ‡§∞‡•ç‡§ó)", difficulty: "expert", karma: -30 }
                ]
            },
            3: {
                content: "‡§Ü‡§™‡§ï‡•á ‡§Æ‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§§‡•ç‡§Ø ‡§î‡§∞ ‡§Ö‡§∏‡§§‡•ç‡§Ø ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§Ö‡§∏‡•ç‡§•‡§ø‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§π‡•à‡•§",
                scenario: "‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§≤‡§æ‡§®‡•Ä ‡§π‡•ã‡§ó‡•Ä‡•§",
                choices: [
                    { target: 1, title: "‡§Æ‡§ø‡§•‡•ç‡§Ø‡§æ‡§§‡•ç‡§µ ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§™‡§∏‡•Ä", description: "‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§ó‡§≤‡§§ ‡§µ‡§ø‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§≤‡•å‡§ü‡§®‡§æ", difficulty: "easy", karma: 10 },
                    { target: 4, title: "‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§æ", description: "‡§∏‡§π‡•Ä ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§™‡§∞ ‡§¶‡•É‡§¢‡§º‡§§‡§æ ‡§∏‡•á ‡§ö‡§≤‡§®‡§æ", difficulty: "medium", karma: -15 }
                ]
            },
            4: {
                content: "‡§Ü‡§™‡§®‡•á ‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§∏‡§§‡•ç‡§Ø ‡§ï‡•ã ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§ö‡§æ‡§∞‡§ø‡§§‡•ç‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Ö‡§™‡§®‡§æ‡§Ø‡§æ ‡§π‡•à‡•§",
                scenario: "‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ö‡§ó‡§≤‡§æ ‡§ï‡§¶‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ?",
                choices: [
                    { target: 5, title: "‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§µ‡•ç‡§∞‡§§", description: "‡§ó‡•É‡§π‡§∏‡•ç‡§• ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§µ‡•ç‡§∞‡§§ ‡§≤‡•á‡§®‡§æ", difficulty: "medium", karma: -15 },
                    { target: 7, title: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§Ø‡§Æ", description: "‡§∏‡•Ä‡§ß‡•á ‡§Æ‡•Å‡§®‡§ø ‡§¶‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§≤‡•á‡§®‡§æ (‡§¶‡•Å‡§∞‡•ç‡§≤‡§≠)", difficulty: "expert", karma: -40 },
                    { target: 1, title: "‡§ó‡§ø‡§∞‡§æ‡§µ‡§ü", description: "‡§™‡•ç‡§∞‡§Æ‡§æ‡§¶ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ó‡§ø‡§∞‡§®‡§æ", difficulty: "none", karma: 20 }
                ]
            },
            5: {
                content: "‡§Ü‡§™‡§®‡•á ‡§ó‡•É‡§π‡§∏‡•ç‡§• ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§µ‡•ç‡§∞‡§§ ‡§≤‡•á ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ ‡§π‡§ø‡§Ç‡§∏‡§æ ‡§∏‡•á ‡§¨‡§ö‡§§‡•á ‡§π‡•à‡§Ç ‡§≤‡•á‡§ï‡§ø‡§® ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§Ø‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
                scenario: "‡§Ü‡§ó‡•á ‡§ï‡•Ä ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á?",
                choices: [
                    { target: 6, title: "‡§Æ‡•Å‡§®‡§ø ‡§¶‡•Ä‡§ï‡•ç‡§∑‡§æ", description: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§Ø‡§Æ ‡§Ö‡§™‡§®‡§æ‡§®‡§æ", difficulty: "hard", karma: -25 },
                    { target: 4, title: "‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§®", description: "‡§™‡§π‡§≤‡•á ‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡•ã ‡§î‡§∞ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ", difficulty: "easy", karma: -5 },
                    { target: 1, title: "‡§∏‡§Ç‡§∏‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§™‡§∏‡•Ä", description: "‡§≠‡•å‡§§‡§ø‡§ï ‡§™‡•ç‡§∞‡§≤‡•ã‡§≠‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§∏‡§®‡§æ", difficulty: "none", karma: 30 }
                ]
            },
            6: {
                content: "‡§Ü‡§™‡§®‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§Ø‡§Æ ‡§Ö‡§™‡§®‡§æ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§™‡•ç‡§∞‡§Æ‡§æ‡§¶ (‡§≤‡§æ‡§™‡§∞‡§µ‡§æ‡§π‡•Ä) ‡§π‡•à‡•§",
                scenario: "‡§Æ‡•Å‡§®‡§ø ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§æ‡§ß‡§®‡§æ ‡§ï‡•à‡§∏‡•Ä ‡§ö‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à?",
                choices: [
                    { target: 7, title: "‡§Ö‡§™‡•ç‡§∞‡§Æ‡§§‡•ç‡§§ ‡§¨‡§®‡§®‡§æ", description: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§æ‡§µ‡§ß‡§æ‡§®‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§æ‡§ß‡§®‡§æ", difficulty: "medium", karma: -15 },
                    { target: 8, title: "‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡•Ä‡§¢‡§º‡•Ä", description: "‡§§‡•Ä‡§µ‡•ç‡§∞ ‡§∏‡§æ‡§ß‡§®‡§æ ‡§∏‡•á ‡§ä‡§Ç‡§ö‡•á ‡§∏‡•ç‡§§‡§∞ ‡§™‡§∞ ‡§ú‡§æ‡§®‡§æ", difficulty: "hard", karma: -30 },
                    { target: 5, title: "‡§ó‡•É‡§π‡§∏‡•ç‡§• ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§™‡§∏‡•Ä", description: "‡§ï‡§†‡§ø‡§®‡§æ‡§à ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§µ‡§æ‡§™‡§∏ ‡§≤‡•å‡§ü‡§®‡§æ", difficulty: "none", karma: 15 }
                ]
            }
            // Add more scenarios for higher gunasthans...
        };

        // Initialize game
        function initGame() {
            updateDisplay();
            updateProgressPath();
            updateKarmaDisplay();
            startTimer();
        }

        function updateDisplay() {
            const gunasthan = gunasthansData[currentGunasthan];
            
            // Update gunasthan display
            const displayEl = document.getElementById('gunasthan-display');
            displayEl.style.background = `linear-gradient(135deg, ${gunasthan.color}, ${gunasthan.color}cc)`;
            displayEl.innerHTML = `
                <div class="gunasthan-number">${currentGunasthan}</div>
                <div class="gunasthan-name">${gunasthan.nameHi}</div>
                <div class="gunasthan-english">${gunasthan.nameEn} - ${gunasthan.english}</div>
                <div class="gunasthan-description">${gunasthan.description}</div>
            `;
            
            // Update content and choices
            const scenario = gameScenarios[currentGunasthan];
            if (scenario) {
                document.getElementById('game-content').innerHTML = `
                    <p><strong>‡§∏‡•ç‡§•‡§ø‡§§‡§ø:</strong> ${scenario.content}</p>
                    <p><strong>‡§™‡§∞‡§ø‡§∏‡•ç‡§•‡§ø‡§§‡§ø:</strong> ${scenario.scenario}</p>
                `;
                
                updateChoices(scenario.choices);
            } else {
                document.getElementById('game-content').innerHTML = `
                    <p>‡§Ü‡§™‡§®‡•á ${gunasthan.nameHi} ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à!</p>
                `;
                updateChoices([]);
            }
            
            // Update stats
            document.getElementById('current-stage').textContent = currentGunasthan;
            document.getElementById('total-moves').textContent = totalMoves;
            document.getElementById('highest-reached').textContent = highestReached;
        }

        function updateChoices(choices) {
            const container = document.getElementById('choices-container');
            if (!choices || choices.length === 0) {
                if (currentGunasthan === 14) {
                    container.innerHTML = `
                        <div class="message success">
                            üéâ ‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§Æ‡•ã‡§ï‡•ç‡§∑ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à! 
                            ‡§Ü‡§™ ‡§®‡•á ‡§∏‡§≠‡•Ä 14 ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡•Ä ‡§π‡•à‡•§
                        </div>
                    `;
                } else {
                    container.innerHTML = `<div class="message info">‡§á‡§∏ ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§≠‡•Ä ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§ ‡§ï‡§ø‡§è ‡§ú‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</div>`;
                }
                return;
            }
            
            let html = '';
            choices.forEach((choice, index) => {
                const isValid = transitionRules[currentGunasthan].canGoTo.includes(choice.target);
                const difficultyColor = {
                    'easy': '#10b981',
                    'medium': '#f59e0b', 
                    'hard': '#ef4444',
                    'expert': '#8b5cf6',
                    'none': '#6b7280'
                }[choice.difficulty];
                
                html += `
                    <button class="choice-button ${!isValid ? 'disabled' : ''}" 
                            onclick="makeChoice(${choice.target}, ${index}, '${choice.difficulty}', ${choice.karma})"
                            ${!isValid ? 'disabled' : ''}>
                        <div class="choice-title">
                            ${choice.title} 
                            <span style="color: ${difficultyColor}; font-size: 12px;">(${choice.difficulty})</span>
                        </div>
                        <div class="choice-description">${choice.description}</div>
                        <div style="font-size: 12px; margin-top: 5px;">
                            ‡§ï‡§∞‡•ç‡§Æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ: ${choice.karma > 0 ? '+' : ''}${choice.karma}
                        </div>
                    </button>
                `;
            });
            
            container.innerHTML = html;
        }

        function makeChoice(targetGunasthan, choiceIndex, difficulty, karmaEffect) {
            const scenario = gameScenarios[currentGunasthan];
            const choice = scenario.choices[choiceIndex];
            
            // Check if transition is valid
            if (!transitionRules[currentGunasthan].canGoTo.includes(targetGunasthan)) {
                showMessage('error', '‚ùå ‡§Ø‡§π ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§∏‡§Ç‡§≠‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§');
                return;
            }
            
            // Handle difficulty-based quiz
            if (difficulty === 'hard' || difficulty === 'expert') {
                showQuiz(targetGunasthan, choice, karmaEffect);
                return;
            }
            
            executeTransition(targetGunasthan, choice, karmaEffect);
        }

        function showQuiz(targetGunasthan, choice, karmaEffect) {
            const questions = {
                4: {
                    question: "‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
                    options: [
                        "‡§ß‡§®-‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø",
                        "‡§∏‡§æ‡§§ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∂‡•ç‡§∞‡§¶‡•ç‡§ß‡§æ",
                        "‡§ï‡•á‡§µ‡§≤ ‡§§‡§™ ‡§ï‡§∞‡§®‡§æ",
                        "‡§∏‡§ø‡§∞‡•ç‡§´ ‡§™‡•Ç‡§ú‡§æ-‡§™‡§æ‡§†"
                    ],
                    correct: 1
                },
                5: {
                    question: "‡§¶‡•á‡§∂‡§µ‡§ø‡§∞‡§§ ‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
                    options: [
                        "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§§‡•ç‡§Ø‡§æ‡§ó",
                        "‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§µ‡•ç‡§∞‡§§",
                        "‡§ï‡•á‡§µ‡§≤ ‡§ß‡•ç‡§Ø‡§æ‡§®",
                        "‡§§‡•Ä‡§∞‡•ç‡§•‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ"
                    ],
                    correct: 1
                },
                7: {
                    question: "‡§Ö‡§™‡•ç‡§∞‡§Æ‡§§‡•ç‡§§ ‡§µ‡§ø‡§∞‡§§ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
                    options: [
                        "‡§≤‡§æ‡§™‡§∞‡§µ‡§æ‡§π ‡§Ü‡§ö‡§∞‡§£",
                        "‡§∏‡§æ‡§µ‡§ß‡§æ‡§® ‡§Ü‡§ö‡§∞‡§£",
                        "‡§ï‡•ã‡§à ‡§Ü‡§ö‡§∞‡§£ ‡§®‡§π‡•Ä‡§Ç",
                        "‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§ ‡§Ü‡§ö‡§∞‡§£"
                    ],
                    correct: 1
                }
            };
            
            const quiz = questions[targetGunasthan];
            if (!quiz) {
                executeTransition(targetGunasthan, choice, karmaEffect);
                return;
            }
            
            let html = `
                <div class="quiz-container">
                    <div class="quiz-question">${quiz.question}</div>
                    <div class="quiz-options">
            `;
            
            quiz.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="selectQuizOption(${index})">
                        ${option}
                    </div>
                `;
            });
            
            html += `
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="action-button primary" onclick="submitQuiz(${targetGunasthan}, ${JSON.stringify(choice).replace(/"/g, '&quot;')}, ${karmaEffect}, ${quiz.correct})">
                            ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§ ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('quiz-container').innerHTML = html;
            document.getElementById('quiz-container').classList.remove('hidden');
        }

        let selectedQuizOption = -1;

        function selectQuizOption(index) {
            document.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.quiz-option')[index].classList.add('selected');
            selectedQuizOption = index;
        }

        function submitQuiz(targetGunasthan, choice, karmaEffect, correctAnswer) {
            if (selectedQuizOption === -1) {
                showMessage('warning', '‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§');
                return;
            }
            
            document.getElementById('quiz-container').classList.add('hidden');
            
            if (selectedQuizOption === correctAnswer) {
                showMessage('success', '‚úÖ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞! ‡§Ü‡§™ ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§');
                executeTransition(targetGunasthan, choice, karmaEffect);
            } else {
                showMessage('error', '‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞! ‡§Ü‡§™ ‡§á‡§∏ ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§π‡•Ä ‡§∞‡§π‡•á‡§Ç‡§ó‡•á ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§∞‡•á‡§Ç‡•§');
                updateKarmaLevels(10); // Penalty
            }
            
            selectedQuizOption = -1;
        }

        function executeTransition(targetGunasthan, choice, karmaEffect) {
            // Record history
            gameHistory.push({
                from: currentGunasthan,
                to: targetGunasthan,
                choice: choice.title,
                time: Date.now() - gameStartTime
            });
            
            // Update game state
            currentGunasthan = targetGunasthan;
            totalMoves++;
            if (currentGunasthan > highestReached) {
                highestReached = currentGunasthan;
            }
            
            // Update karma levels
            updateKarmaLevels(karmaEffect);
            
            // Show transition message
            const gunasthan = gunasthansData[targetGunasthan];
            if (targetGunasthan > gameHistory[gameHistory.length - 1]?.from || 0) {
                showMessage('success', `üéâ ‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™ ${gunasthan.nameHi} (‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ${targetGunasthan}) ‡§Æ‡•á‡§Ç ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ó‡§è ‡§π‡•à‡§Ç!`);
            } else {
                showMessage('warning', `üìâ ‡§Ü‡§™ ${gunasthan.nameHi} (‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ${targetGunasthan}) ‡§Æ‡•á‡§Ç ‡§Ü ‡§ó‡§è ‡§π‡•à‡§Ç‡•§`);
            }
            
            // Special messages for significant achievements
            if (targetGunasthan === 4) {
                showMessage('info', 'üåü ‡§∏‡§Æ‡•ç‡§Ø‡§ï‡•ç‡§§‡•ç‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§Æ‡•ã‡§ï‡•ç‡§∑ ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§™‡§∞ ‡§π‡•à‡§Ç‡•§');
            } else if (targetGunasthan === 6) {
                showMessage('info', 'üôè ‡§Æ‡•Å‡§®‡§ø ‡§¶‡•Ä‡§ï‡•ç‡§∑‡§æ! ‡§Ü‡§™‡§®‡•á ‡§∏‡§Ç‡§∏‡§æ‡§∞ ‡§ï‡§æ ‡§§‡•ç‡§Ø‡§æ‡§ó ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§π‡•à‡•§');
            } else if (targetGunasthan === 12) {
                showMessage('info', '‚ú® ‡§Æ‡•ã‡§π‡§®‡•Ä‡§Ø ‡§ï‡§∞‡•ç‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§∂! ‡§Ö‡§¨ ‡§ï‡•á‡§µ‡§≤‡§ú‡•ç‡§û‡§æ‡§® ‡§®‡§ø‡§ï‡§ü ‡§π‡•à‡•§');
            } else if (targetGunasthan === 14) {
                showMessage('success', 'üéØ ‡§Æ‡•ã‡§ï‡•ç‡§∑ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø! ‡§Ü‡§™‡§®‡•á ‡§∏‡§Ç‡§∏‡§æ‡§∞ ‡§ö‡§ï‡•ç‡§∞ ‡§∏‡•á ‡§Æ‡•Å‡§ï‡•ç‡§§‡§ø ‡§™‡§æ‡§à ‡§π‡•à!');
            }
            
            // Update display
            setTimeout(() => {
                updateDisplay();
                updateProgressPath();
                updateKarmaDisplay();
            }, 1000);
        }

        function updateKarmaLevels(change) {
            Object.keys(karmaLevels).forEach(karma => {
                karmaLevels[karma] = Math.max(0, Math.min(100, karmaLevels[karma] + change));
            });
        }

        function updateKarmaDisplay() {
            const container = document.getElementById('karma-display');
            
            let html = `
                <div class="karma-title">‡§ï‡§∞‡•ç‡§Æ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø (Karma Levels)</div>
                <div class="karma-bars">
            `;
            
            Object.entries(karmaLevels).forEach(([name, level]) => {
                const color = level > 70 ? '#ef4444' : level > 40 ? '#f59e0b' : '#10b981';
                html += `
                    <div class="karma-bar">
                        <div class="karma-name">${name}</div>
                        <div class="karma-progress">
                            <div class="karma-fill" style="width: ${level}%; background: ${color}"></div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function updateProgressPath() {
            const container = document.getElementById('progress-path');
            let html = '';
            
            for (let i = 1; i <= 14; i++) {
                let className = 'path-stage ';
                if (i < currentGunasthan) className += 'completed';
                else if (i === currentGunasthan) className += 'current';
                else className += 'locked';
                
                html += `<div class="${className}">${i}</div>`;
                if (i < 14) html += '<div class="path-arrow">‚Üí</div>';
            }
            
            container.innerHTML = html;
        }

        function showMessage(type, text) {
            const container = document.getElementById('message-container');
            container.innerHTML = `<div class="message ${type}">${text}</div>`;
            
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }

        function startTimer() {
            setInterval(() => {
                const elapsed = Math.floor((Date.now() - gameStartTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('game-time').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function resetGame() {
            if (confirm('‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§µ‡§æ‡§ï‡§à ‡§®‡§à ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?')) {
                currentGunasthan = 1;
                totalMoves = 0;
                highestReached = 1;
                gameStartTime = Date.now();
                gameHistory = [];
                karmaLevels = {
                    '‡§Æ‡•ã‡§π‡§®‡•Ä‡§Ø': 100,
                    '‡§ú‡•ç‡§û‡§æ‡§®‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø': 80,
                    '‡§¶‡§∞‡•ç‡§∂‡§®‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø': 80,
                    '‡§Ö‡§®‡•ç‡§§‡§∞‡§æ‡§Ø': 70
                };
                
                document.getElementById('message-container').innerHTML = '';
                document.getElementById('quiz-container').classList.add('hidden');
                
                updateDisplay();
                updateProgressPath();
                updateKarmaDisplay();
            }
        }

        function showHelp() {
            showMessage('info', `
                üéØ <strong>‡§ñ‡•á‡§≤ ‡§ï‡§æ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø:</strong> 14 ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§∞‡§ï‡•á ‡§Æ‡•ã‡§ï‡•ç‡§∑ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡§æ‡•§<br>
                üìö <strong>‡§ï‡•à‡§∏‡•á ‡§ñ‡•á‡§≤‡•á‡§Ç:</strong> ‡§π‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§∏‡§π‡•Ä ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§ ‡§ï‡§†‡§ø‡§® ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§Ç‡•§<br>
                ‚ö° <strong>‡§ï‡§∞‡•ç‡§Æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ:</strong> ‡§Ü‡§™‡§ï‡•á ‡§ö‡•Å‡§®‡§æ‡§µ ‡§ï‡§∞‡•ç‡§Æ ‡§∏‡•ç‡§§‡§∞ ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§<br>
                üèÜ <strong>‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø:</strong> ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ ‡§ö‡§∞‡§£‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® 14 ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö‡§®‡§æ‡•§
            `);
        }

        function showProgress() {
            let progressText = `
                üìä <strong>‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø:</strong><br>
                ‚Ä¢ ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§®: ${currentGunasthan} (${gunasthansData[currentGunasthan].nameHi})<br>
                ‚Ä¢ ‡§ï‡•Å‡§≤ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£: ${totalMoves}<br>
                ‚Ä¢ ‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§∏‡•ç‡§§‡§∞: ${highestReached}<br>
                ‚Ä¢ ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§∏‡§Æ‡§Ø: ${document.getElementById('game-time').textContent}
            `;
            
            if (gameHistory.length > 0) {
                progressText += '<br><br><strong>‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§á‡§§‡§ø‡§π‡§æ‡§∏:</strong><br>';
                gameHistory.slice(-5).forEach(move => {
                    progressText += `‚Ä¢ G${move.from} ‚Üí G${move.to}: ${move.choice}<br>`;
                });
            }
            
            showMessage('info', progressText);
        }

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
